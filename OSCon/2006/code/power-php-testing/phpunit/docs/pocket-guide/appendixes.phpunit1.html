<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Appendix A. PHPUnit for PHP 4</title><link rel="stylesheet" href="docbook.css" type="text/css"></link><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"></meta><link rel="start" href="index.html" title="PHPUnit Pocket Guide"></link><link rel="up" href="index.html" title="PHPUnit Pocket Guide"></link><link rel="prev" href="extending-phpunit.html" title="Chapter 15. Extending PHPUnit"></link><link rel="next" href="appendixes.index.html" title="Appendix B. Index"></link><script xmlns="" src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script xmlns="" type="text/javascript">_uacct = "UA-68261-2";urchinTracker();</script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix A. PHPUnit for PHP 4</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="extending-phpunit.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="appendixes.index.html">Next</a></td></tr></table><hr></hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="appendixes.phpunit1"></a>Appendix A. PHPUnit for PHP 4</h2></div></div></div><p>
    There is a release series of PHPUnit that works with PHP 4 and does not
    require PHP 5. Due to PHP 4's limited object model, PHPUnit for PHP 4 is
    not a complete port of JUnit as PHPUnit for PHP 5 is. It also lacks
    certain features of PHPUnit for PHP 5, such as code-coverage analysis.
  </p><p>
    The PHPUnit release series for PHP 4 has its own PEAR package named
    <code class="filename">PHPUnit</code> (instead of <code class="filename">PHPUnit2</code>).
    This is because incompatible branches of PEAR packages (such as PHPUnit
    1.X for PHP 4 and PHPUnit 2.X for PHP 5) have to be maintained in
    separate packages.
  </p><p>
    The following command line shows how to install PHPUnit for PHP 4 using
    the PEAR Installer:
  </p><pre class="screen"><strong class="userinput"><code>pear install PHPUnit</code></strong></pre><p>
    A test-case class that is used with PHPUnit for PHP 4 is similar
    to one that is used with PHPUnit for PHP 5. The essential difference is
    that such a class extends <code class="literal">PHPUnit_TestCase</code>
    (which itself extends <code class="literal">PHPUnit_Assert</code>, the class that
    provides the assertion methods).
  </p><p>
    <a href="appendixes.phpunit1.html#appendixes.phpunit1.examples.ArrayTest.php" title="Example A.1: Writing a test case for PHPUnit 1.x">Example A.1</a>
    shows a version of the <code class="literal">ArrayTest</code> test case that can
    be used with PHPUnit for PHP 4.
  </p><div class="example"><a id="appendixes.phpunit1.examples.ArrayTest.php"></a><p class="title"><b>Example A.1: Writing a test case for PHPUnit 1.x</b></p><pre class="programlisting"><code><span style="color: #113d73;">&lt;?php</span><br /><span style="color: #005500;">require_once</span><span style="color: #113d73;">&nbsp;</span><span style="color: #550000;">'PHPUnit/TestCase.php'</span><span style="color: #005500;">;</span><br />&nbsp;<br /><span style="color: #005500;">class</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">ArrayTest</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">extends</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">PHPUnit_TestCase</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">{</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">var</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">$_fixture</span><span style="color: #005500;">;</span><br />&nbsp;<br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">function</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">setUp</span><span style="color: #005500;">(</span><span style="color: #005500;">)</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">{</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">_fixture</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">=</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">Array</span><span style="color: #005500;">(</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">}</span><br />&nbsp;<br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">function</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">testNewArrayIsEmpty</span><span style="color: #005500;">(</span><span style="color: #005500;">)</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">{</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">assertEquals</span><span style="color: #005500;">(</span><span style="color: #113d73;">0</span><span style="color: #005500;">,</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">sizeof</span><span style="color: #005500;">(</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">_fixture</span><span style="color: #005500;">)</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">}</span><br />&nbsp;<br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">function</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">testArrayContainsAnElement</span><span style="color: #005500;">(</span><span style="color: #005500;">)</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">{</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">_fixture</span><span style="color: #005500;">[</span><span style="color: #005500;">]</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">=</span><span style="color: #113d73;">&nbsp;</span><span style="color: #550000;">'Element'</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">assertEquals</span><span style="color: #005500;">(</span><span style="color: #113d73;">1</span><span style="color: #005500;">,</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">sizeof</span><span style="color: #005500;">(</span><span style="color: #113d73;">$this</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">_fixture</span><span style="color: #005500;">)</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #005500;">}</span><br /><span style="color: #005500;">}</span><br /><span style="color: #113d73;">?&gt;</span><br /></code></pre></div><p>
    PHPUnit for PHP 4 does not provide a TextUI test runner. The most
    commonly used way to run tests with PHPUnit for PHP 4 is to write a
    test suite and run it manually, as shown in
    <a href="appendixes.phpunit1.html#appendixes.phpunit1.examples.suite.php" title="Example A.2: Running a test case with PHPUnit 1.x">Example A.2</a>.
  </p><div class="example"><a id="appendixes.phpunit1.examples.suite.php"></a><p class="title"><b>Example A.2: Running a test case with PHPUnit 1.x</b></p><pre class="programlisting"><code><span style="color: #113d73;">&lt;?php</span><br /><span style="color: #005500;">require_once</span><span style="color: #113d73;">&nbsp;</span><span style="color: #550000;">'ArrayTest.php'</span><span style="color: #005500;">;</span><br /><span style="color: #005500;">require_once</span><span style="color: #113d73;">&nbsp;</span><span style="color: #550000;">'PHPUnit.php'</span><span style="color: #005500;">;</span><br />&nbsp;<br /><span style="color: #113d73;">$suite</span><span style="color: #113d73;">&nbsp;&nbsp;</span><span style="color: #005500;">=</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">new</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">PHPUnit_TestSuite</span><span style="color: #005500;">(</span><span style="color: #550000;">'ArrayTest'</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">$result</span><span style="color: #113d73;">&nbsp;</span><span style="color: #005500;">=</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">PHPUnit</span><span style="color: #005500;">::</span><span style="color: #113d73;">run</span><span style="color: #005500;">(</span><span style="color: #113d73;">$suite</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br />&nbsp;<br /><span style="color: #113d73;">print</span><span style="color: #113d73;">&nbsp;</span><span style="color: #113d73;">$result</span><span style="color: #005500;">-&gt;</span><span style="color: #113d73;">toString</span><span style="color: #005500;">(</span><span style="color: #005500;">)</span><span style="color: #005500;">;</span><br /><span style="color: #113d73;">?&gt;</span><br /></code></pre><pre class="screen">TestCase arraytest-&gt;testnewarrayisempty() passed
TestCase arraytest-&gt;testarraycontainsanelement() passed</pre></div><p>
    <a href="appendixes.phpunit1.html#appendixes.phpunit1.figures.PHPUnit-Gtk.png" title="Figure A.1. The PHP-GTK Test Runner">Figure A.1</a> shows the
    one feature that PHPUnit for PHP 4 has that PHPUnit for PHP 5 does not
    yet have: a test runner with a graphical user interface based on
    PHP-GTK.
  </p><div class="figure"><a id="appendixes.phpunit1.figures.PHPUnit-Gtk.png"></a><p class="title"><b>Figure A.1. The PHP-GTK Test Runner</b></p><div><img src="figures/PHPUnit-Gtk.png" alt="The PHP-GTK Test Runner"></img></div></div></div><div class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="extending-phpunit.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="appendixes.index.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 15. Extending PHPUnit </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix B. Index</td></tr></table></div><div xmlns="" class="copyright-notice"><a href="appendixes.copyright.html">Copyright</a> © 2005 <a href="http://www.sebastian-bergmann.de/">Sebastian Bergmann</a>
      and <a href="http://www.oreilly.com/">O'Reilly Media, Inc.</a>.
    </div></body></html>
